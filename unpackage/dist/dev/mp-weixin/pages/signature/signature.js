require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([2],{129:function(t,e,n){"use strict";var a=s(n(2)),o=s(n(130));function s(t){return t&&t.__esModule?t:{default:t}}new a.default(o.default).$mount()},130:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(133),o=n.n(a),s=n(134),i=!1;var r=function(t){i||(n(131),n(132))},c=n(0)(o.a,s.a,r,"data-v-a11b071a",null);c.options.__file="Users/yehubin/project/first-uniapp/pages/signature/signature.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] signature.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},131:function(t,e){},132:function(t,e){},133:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=null,o=[],s=0,i=0;e.default={data:function(){return{canvasHeight:0,signImage:"",ifdraw:!1,contractNo:""}},onLoad:function(t){t.contractNo&&(this.contractNo=t.contractNo);var e=this;(a=wx.createCanvasContext("firstCanvas")).setStrokeStyle("#333"),a.setLineWidth(5),a.setLineCap("round"),a.setLineJoin("round"),wx.getSystemInfo({success:function(t){s=t.windowWidth-20,i=t.windowHeight-40,e.canvasHeight=t.windowHeight}})},methods:{start:function(t){this.ifdraw=!0,console.log("start"),console.log(t);var e={x:t.x,y:t.y};o.push(e)},move:function(t){var e={x:t.touches[0].x,y:t.touches[0].y};o.push(e),o.length>=2&&this.draw(o)},draw:function(t){var e=t[0],n=t[1];t.shift(),a.moveTo(e.x,e.y),a.lineTo(n.x,n.y),a.stroke(),a.draw(!0)},end:function(t){console.log("触摸结束"+t);for(var e=0;e<o.length;e++)o.pop()},clearClick:function(){this.ifdraw=!1,a.clearRect(0,0,s,i),a.draw(!0)},saveClick:function(){if(this.ifdraw){var t=this;wx.showLoading({title:"努力生成中..."}),wx.canvasToTempFilePath({canvasId:"firstCanvas",success:function(e){wx.hideLoading(),t.signImage=e.tempFilePath,console.log(t.signImage),t.$store.dispatch("uploadQiniu",{tempFilePaths:t.signImage,type:"signature",option:{contractNo:t.contractNo,type:"sell"}})}})}else wx.showToast({title:"请签上您的大名",icon:"none"})}}}},134:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"content"},[n("div",{staticClass:"drawarea"},[n("canvas",{staticClass:"board",attrs:{"canvas-id":"firstCanvas",eventid:"ikg-0"},on:{touchend:t.end,touchstart:t.start,touchmove:t.move}}),n("p",[t._v("请在上方灰色区域内签上您的姓名")])],1),n("div",{staticClass:"ctrl"},[n("button",{staticClass:"clear",attrs:{type:"default",eventid:"uNV-1"},on:{click:t.clearClick}},[t._v("清空")]),n("button",{attrs:{type:"warn",eventid:"YK6-2"},on:{click:t.saveClick}},[t._v("下一步")])],1)])};a._withStripped=!0;var o={render:a,staticRenderFns:[]};e.a=o}},[129]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/signature/signature.js.map