require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([11],{135:function(e,t,a){"use strict";var n=r(a(2)),i=r(a(136));function r(e){return e&&e.__esModule?e:{default:e}}new n.default(i.default).$mount()},136:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(138),i=a.n(n),r=a(139),s=!1;var o=function(e){s||a(137)},c=a(0)(i.a,r.a,o,"data-v-a9cb1d7e",null);c.options.__file="Users/yehubin/project/first-uniapp/pages/contract/contract.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] contract.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},137:function(e,t){},138:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(1);t.default={data:function(){return{carid:"",sellConfirm:!1,resetArr:["brand","color","vin","engineNo","mileage","spsj","ccsj","belongArea","ghNum","keyNum","cjPrice","name","card","bank"],buyers:[],buyersid:[],brand:"",formData:{brandId:"",typeId:"",vin:"",engineNo:"",ghNum:"",color:"",keyNum:"",cjPrice:"",name:"",card:"",bank:"",seller:"",sellerIdCard:"",sellerPhone:"",belongArea:"",mileage:"",spsj:"",ccsj:"",desc:"",carNature:"非营运",instructions:0,bysc:0,freight:0,lmGuarantee:0}}},onLoad:function(e){console.log(e.carid);var t=e.carid;t&&this.$store.dispatch("getContractCardetail",t)},onReady:function(){this.formData.seller=this.userinfo.name,this.formData.sellerIdCard=this.userinfo.idCardNo,this.formData.sellerPhone=this.userinfo.phone},onUnload:function(){var e=this;this.resetArr.forEach(function(t){e.$refs[t].compReset()}),this.brand="",this.buyers=[],this.buyersid=[],this.formData={brandId:"",typeId:"",vin:"",engineNo:"",ghNum:"",color:"",keyNum:"",cjPrice:"",name:"",card:"",bank:"",seller:"",sellerIdCard:"",sellerPhone:"",belongArea:"",mileage:"",spsj:"",ccsj:"",desc:"",carNature:"非营运",instructions:0,bysc:0,freight:0,lmGuarantee:0},this.SETSTATE({k:"contractcardetail",v:"{}"})},computed:n({},(0,i.mapState)(["userinfo","contractcardetail"]),{contractinfo:function(){return JSON.parse(this.contractcardetail)}}),watch:{contractcardetail:function(e,t){var a=JSON.parse(e);a.hasOwnProperty("title")&&(this.brand=a.title.replace(a.spsj,"").trim(),this.formData={brandId:a.brandId,typeId:a.typeId,color:a.color,mileage:a.mileage,spsj:a.spsj.replace("月","").replace("年","-"),ccsj:a.ccsj.replace("月","").replace("年","-"),desc:a.desc})}},methods:n({},(0,i.mapMutations)(["SETSTATE"]),{cancelBuyer:function(e){this.buyers=this.buyers.filter(function(t){return t.id!=e}),this.buyersid=this.buyersid.filter(function(t){return t!=e})},selectBuyer:function(e,t,a,n){var i={name:e,phone:t,idCardNo:a,id:n};this.buyers.push(i),this.buyersid.push(n)},cancelConfirm:function(){this.sellConfirm=!1},getBrandshow:function(e){this.brandshow=e},listChange:function(e,t){console.log(t,e),this.formData[t]=e},choiceBrand:function(e){var t=e.title,a=e.brandId,n=e.typeId;console.log(a,n),this.brand=t,this.formData.brandId=a,this.formData.typeId=n},conditionCheck:function(){return this.formData.typeId?this.formData.color?this.formData.mileage?this.formData.spsj?this.formData.ccsj?this.formData.ghNum?this.formData.keyNum?this.formData.cjPrice?this.formData.name?this.formData.card?this.formData.bank?0==this.buyersid.length?[!1,"请添加至少一个买方"]:[!0]:[!1,"请输入开户行"]:[!1,"请输入账号"]:[!1,"请输入开户名"]:[!1,"请输入成交价"]:[!1,"请输入钥匙数"]:[!1,"请输入过户次数"]:[!1,"请选择出厂日期"]:[!1,"请选择上牌日期"]:[!1,"请输入公里数"]:[!1,"请选择车身颜色"]:[!1,"请选择完整的车辆品牌型号"]},toSubmit:function(){console.log(this.formData);var e=this.conditionCheck();if(e[0]){this.formData.spsj=this.formData.spsj.replace("-","年")+"月",this.formData.ccsj=this.formData.ccsj.replace("-","年")+"月";var t=n({buyers:this.buyersid.join(",")},this.formData);this.$store.dispatch("toContract",{option:t})}else wx.showToast({title:e[1],icon:"none"})}})}},139:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"content"},[a("p",{staticClass:"title"},[e._v("车辆信息")]),a("div",{staticClass:"baseinfo"},[a("cv-brand",{ref:"brand",attrs:{defaultData:{brand:this.brand,brandId:this.formData.brandId,typeId:this.formData.typeId},eventid:"bCd-0",mpcomid:"Sc8-0"},on:{choiceBrand:e.choiceBrand,getBrandshow:e.getBrandshow}}),a("cv-list",{ref:"color",attrs:{defaultData:e.formData.color,name:"车身颜色",type:"color",eventid:"mKS-1",mpcomid:"x57-1"},on:{listChange:e.listChange}}),a("cv-input",{ref:"vin",attrs:{name:"车架号",unit:"",type:"vin",placeholder:"车架号，非必填",eventid:"ys8-2",mpcomid:"oM2-2"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"engineNo",attrs:{name:"发动机号",unit:"",type:"engineNo",placeholder:"发动机号，非必填",eventid:"lcz-3",mpcomid:"rnv-3"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"mileage",attrs:{defaultData:e.formData.mileage,name:"公里数",unit:"万公里",type:"mileage",eventid:"o37-4",mpcomid:"Xwj-4"},on:{inputChange:e.listChange}}),a("cv-date",{ref:"spsj",attrs:{defaultData:e.formData.spsj,name:"上牌日期",type:"spsj",eventid:"jdf-5",mpcomid:"NdP-5"},on:{listChange:e.listChange}}),a("cv-date",{ref:"ccsj",attrs:{defaultData:e.formData.ccsj,name:"出厂日期",type:"ccsj",eventid:"z35-6",mpcomid:"6bM-6"},on:{listChange:e.listChange}}),a("cv-input",{ref:"belongArea",attrs:{name:"初次登记地",type:"belongArea",placeholder:"初次登记地，非必选",eventid:"hiN-7",mpcomid:"7St-7"},on:{inputChange:e.listChange}}),a("cv-radio",{ref:"carNature",attrs:{name:"使用性质",type:"carNature",list:[{key:"非营运",val:"非营运",checked:!0},{key:"营运",val:"营运"},{key:"租赁",val:"租赁"}],eventid:"QPQ-8",mpcomid:"7bX-8"},on:{radioChange:e.listChange}}),a("cv-input",{ref:"ghNum",attrs:{name:"过户次数",unit:"次",type:"ghNum",eventid:"9KK-9",mpcomid:"CYY-9"},on:{inputChange:e.listChange}}),a("cv-radio",{ref:"instructions",attrs:{name:"说明书",type:"instructions",list:[{key:0,val:"无",checked:!0},{key:1,val:"有"}],eventid:"7F2-10",mpcomid:"PuA-10"},on:{radioChange:e.listChange}}),a("cv-radio",{ref:"bysc",attrs:{name:"保养手册",type:"bysc",list:[{key:0,val:"无",checked:!0},{key:1,val:"有"}],eventid:"XaW-11",mpcomid:"28D-11"},on:{radioChange:e.listChange}}),a("cv-input",{ref:"keyNum",attrs:{name:"钥匙数",unit:"把",type:"keyNum",eventid:"ulU-12",mpcomid:"Gkg-12"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"cjPrice",attrs:{name:"成交价",unit:"万元",type:"cjPrice",eventid:"f9b-13",mpcomid:"Oms-13"},on:{inputChange:e.listChange}}),a("cv-radio",{ref:"freight",attrs:{name:"包含运费",type:"freight",list:[{key:0,val:"否",checked:!0},{key:1,val:"是"}],eventid:"hzm-14",mpcomid:"CTf-14"},on:{radioChange:e.listChange}}),a("cv-radio",{ref:"lmGuarantee",attrs:{name:"联盟担保",type:"lmGuarantee",list:[{key:0,val:"否",checked:!0},{key:1,val:"是"}],eventid:"tuS-15",mpcomid:"URl-15"},on:{radioChange:e.listChange}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formData.desc,expression:"formData.desc"}],staticClass:"cardetail",attrs:{placeholder:"请输入车况描述","placeholder-style":"color: #999;line-height: 40px",name:"",id:"",eventid:"51G-16"},domProps:{value:e.formData.desc},on:{input:function(t){t.target.composing||(e.formData.desc=t.target.value)}}})],1),a("p",{staticClass:"title"},[e._v("收款人信息")]),a("div",{staticClass:"baseinfo"},[a("cv-input",{ref:"name",attrs:{name:"开户名",unit:"",type:"name",eventid:"WhF-17",mpcomid:"iEz-16"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"card",attrs:{name:"账号",unit:"",type:"card",eventid:"IE6-18",mpcomid:"3Dv-17"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"bank",attrs:{name:"开户行",unit:"",type:"bank",eventid:"BoJ-19",mpcomid:"YqE-18"},on:{inputChange:e.listChange}})],1),a("p",{staticClass:"title"},[e._v("卖方信息")]),a("div",{staticClass:"baseinfo"},[a("cv-input",{ref:"seller",attrs:{name:"卖方姓名",type:"seller",unit:"",defaultData:e.userinfo.name,readonly:!0,eventid:"YPY-20",mpcomid:"aNR-19"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"sellerIdCard",attrs:{name:"身份证号",type:"sellerIdCard",unit:"",defaultData:e.userinfo.idCardNo,readonly:!0,eventid:"4og-21",mpcomid:"vwH-20"},on:{inputChange:e.listChange}}),a("cv-input",{ref:"sellerPhone",attrs:{name:"手机号码",type:"sellerPhone",unit:"",defaultData:e.userinfo.phone,readonly:!0,eventid:"dNe-22",mpcomid:"0Ew-21"},on:{inputChange:e.listChange}})],1),a("p",{staticClass:"title"},[e._v("买方信息")]),a("div",{staticClass:"buyinfo"},[e._l(e.buyers,function(t,n){return a("div",{key:n,staticClass:"buyline"},[a("span",{staticClass:"close"},[a("icon",{attrs:{type:"cancel",eventid:"zWK-23-"+n},on:{click:function(a){e.cancelBuyer(t.id)}}})],1),a("div",{staticClass:"info"},[a("p",{staticClass:"name"},[e._v(e._s(t.name))]),a("p",{staticClass:"other"},[e._v("身份证 "+e._s(t.idCardNo))]),a("p",{staticClass:"other"},[e._v("手机号 "+e._s(t.phone))])],1)])}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.buyers.length<4,expression:"buyers.length < 4"}],staticClass:"addbuy",attrs:{eventid:"AYF-24"},on:{click:function(t){e.sellConfirm=!e.sellConfirm}}},[a("p",[e._v("新增买方")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.sellConfirm,expression:"sellConfirm"}]},[a("contract-firm",{attrs:{buyersList:e.buyersid,eventid:"rq4-25",mpcomid:"6oc-22"},on:{cancelConfirm:e.cancelConfirm,selectBuyer:e.selectBuyer}})],1)],2),a("p",{staticClass:"title"},[e._v("交易条约")]),a("p",{staticClass:"notice"},[e._v("卖方确认：未隐瞒任何事故（无结构件事故），非浸水车，来源合法，权利无争议，车辆档案资料及购车发票信息真实，可正常办理迁档、过户、入户手续。否则，买方有权退车，卖方应在买方提出退车当日退回全部车款给买方。逾期退款的，除每日按转让价的千分之二向买方支付违约金，卖方还应承担买方为此发生的律师费、差旅费、鉴定费、担保费等支出。")]),a("div",{staticClass:"submit"},[a("button",{attrs:{type:"warn",eventid:"bW7-26"},on:{click:e.toSubmit}},[e._v("发布")])],1),a("page-nav",{attrs:{nav:2,mpcomid:"HwW-23"}})],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i}},[135]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/contract/contract.js.map